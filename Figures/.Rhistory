xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(dat_path)
pdf("Figures/all_terms_and_combos_97-16.pdf", width=11, height=7.07)
search_terms <- unique(all.timepts$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
#Specialty combination plots
schiz_ptsd.plot <- all.timepts %>%
filter(term == "PTSD"
| term == "schizophren* ") %>%
ggplot(aes(x = timept, y = fraction, colour = term)) +
geom_line() +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.4) +
theme_bw() +
scale_x_continuous(breaks = c(1997:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word in popular media"),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
#MDD and PTSD
depress_ptsd.plot
depress_ptsd.plot <- all.timepts %>%
filter(term == "PTSD"
| term == "major depressive disorder") %>%
ggplot(aes(x = timept, y = fraction, colour = term)) +
geom_line() +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.4) +
theme_bw() +
scale_x_continuous(breaks = c(1997:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word in popular media"),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
depress_ptsd.plot
dev.off()
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all.timepts %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = fraction)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = c(1997:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(dat_path)
pdf("Figures/all_terms_and_combos_97-16.pdf", width=11, height=7.07)
search_terms <- unique(all.timepts$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
#Specialty combination plots
schiz_ptsd.plot <- all.timepts %>%
filter(term == "PTSD"
| term == "schizophren* ") %>%
ggplot(aes(x = timept, y = fraction, colour = term)) +
geom_line() +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.4) +
theme_bw() +
scale_x_continuous(breaks = c(1997:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word in popular media"),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
schiz_ptsd.plot
#MDD and PTSD
depress_ptsd.plot <- all.timepts %>%
filter(term == "PTSD"
| term == "major depressive disorder") %>%
ggplot(aes(x = timept, y = fraction, colour = term)) +
geom_line() +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.4) +
theme_bw() +
scale_x_continuous(breaks = c(1997:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word in popular media"),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
depress_ptsd.plot
dev.off()
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
dat_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/"
hits_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(hits_path)
wd <- getwd()
#Read in the CSV of total articles per quarter, our baserate
total.raw <- read.csv("total_per_quarter(no_oldest_sort)_1900to2016.csv", as.is = TRUE)
total <- total.raw
#Change 'Hits' to 'baserate'
colnames(total)[1:3] <- c("baserate", "quarter", "year")
View(total)
total$timept <- total$year + 0.25*(total$quarter - 1)
list.files()
which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")
list.files[which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")]
list.files[,which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")]
list.files()[which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")]
all.raw <- lapply(list.files()[which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")],
function(x) read.csv(x, as.is=TRUE)) %>%
bind_rows()
View(all.raw)
all$timept <- all$year + 0.25*(all$quarter - 1)
all <- all.raw %>%
distinct()
all <- all.raw %>%
distinct()
all$timept <- all$year + 0.25*(all$quarter - 1)
View(all)
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(fraction = 100*(all$baserate/total$baserate))
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept")
all <- all.raw %>%
distinct()
all$timept <- all$year + 0.25*(all$quarter - 1)
#Process the data to just get the term, timept, art_count, baserate, and percentage variables
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(fraction = 100*(all$baserate/total$baserate))
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(percentage = 100*(all$baserate/total$baserate)
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(percentage = 100*(all$baserate/total$baserate))
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(percentage = 100*(all$baserate/total$baserate))
View(all)
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(percentage = 100*(hits/baserate))
all.timepts$term <- all.timepts$term %>%
recode_factor(., "posttraumatic stress OR post-traumatic stress OR post traumatic stress OR PTSD " = 'PTSD',
"major depressive OR major depression OR unipolar depression OR unipolar depressive " = "major depressive disorder")
all$term <- all$term %>%
recode_factor(., "posttraumatic stress OR post-traumatic stress OR post traumatic stress OR PTSD " = 'PTSD',
"major depressive OR major depression OR unipolar depression OR unipolar depressive " = "major depressive disorder")
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
hits_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(hits_path)
wd <- getwd()
#Read in the CSV of total articles per quarter, our baserate
total.raw <- read.csv("total_per_quarter(no_oldest_sort)_1900to2016.csv", as.is = TRUE)
total <- total.raw
#Change 'Hits' to 'baserate'
colnames(total)[1:3] <- c("baserate", "quarter", "year")
#Code variable for year and quarter as Q1 = .0, Q2=0.25, Q3=0.5,Q4=0.75
total$timept <- total$year + 0.25*(total$quarter - 1)
#Read in and bind all my CSVs into the massive df
all.raw <- lapply(list.files()[which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")],
function(x) read.csv(x, as.is=TRUE)) %>%
bind_rows()
#Process to get the date from string into a numeric value
all <- all.raw %>%
distinct()
all$timept <- all$year + 0.25*(all$quarter - 1)
#Process the data to just get the term, timept, art_count, baserate, and percentage variables
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(percentage = 100*(hits/baserate))
setwd(save_path)
saveRDS(all, file = "all_terms_hits.RDS" )
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(load_path)
wd <- getwd()
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all.timepts %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = fraction)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = c(1997:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(dat_path)
pdf("Figures/all_terms_and_combos_1900-2016.pdf", width=11, height=7.07)
search_terms <- unique(all.timepts$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
all <- load(file = "all_terms_hits.RDS")
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(load_path)
wd <- getwd()
all <- load(file = "all_terms_hits.RDS")
all <- readRDS(file = "all_terms_hits.RDS")
View(all)
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(load_path)
wd <- getwd()
all <- readRDS(file = "all_terms_hits.RDS")
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = fraction)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = c(1900:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(dat_path)
pdf("Figures/all_terms_and_combos_1900-2016.pdf", width=11, height=7.07)
search_terms <- unique(all$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
dev.off()
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(load_path)
wd <- getwd()
all <- readRDS(file = "all_terms_hits.RDS")
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = percentage)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = c(1900:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Figures"
}
setwd(load_path)
wd <- getwd()
all <- readRDS(file = "all_terms_hits.RDS")
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = percentage)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = c(1900:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(save_path)
pdf("Figures/all_terms_and_combos_1900-2016.pdf", width=11, height=7.07)
search_terms <- unique(all$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
dev.off()
all.plots
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Figures"
}
setwd(load_path)
wd <- getwd()
all <- readRDS(file = "all_terms_hits.RDS")
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = percentage)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = c(1900:2016)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(save_path)
pdf("all_terms_and_combos_1900-2016.pdf", width=11, height=7.07)
search_terms <- unique(all$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
dev.off()
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Figures"
}
setwd(load_path)
wd <- getwd()
all <- readRDS(file = "all_terms_hits.RDS")
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = percentage)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = seq(1900,2010,10)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(save_path)
pdf("all_terms_and_combos_1900-2016.pdf", width=11, height=7.07)
search_terms <- unique(all$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
dev.off()
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
hits_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/CSVs/hits"
}
setwd(hits_path)
wd <- getwd()
#Read in the CSV of total articles per quarter, our baserate
total.raw <- read.csv("total_per_quarter(no_oldest_sort)_1900to2016.csv", as.is = TRUE)
total <- total.raw
#Change 'Hits' to 'baserate'
colnames(total)[1:3] <- c("baserate", "quarter", "year")
#Code variable for year and quarter as Q1 = .0, Q2=0.25, Q3=0.5,Q4=0.75
total$timept <- total$year + 0.25*(total$quarter - 1)
#Read in and bind all my CSVs into the massive df
all.raw <- lapply(list.files()[which(list.files() != "total_per_quarter(no_oldest_sort)_1900to2016.csv")],
function(x) read.csv(x, as.is=TRUE)) %>%
bind_rows()
#Process to get the date from string into a numeric value
all <- all.raw %>%
distinct()
all$timept <- all$year + 0.25*(all$quarter - 1)
#Process the data to just get the term, timept, art_count, baserate, and percentage variables
all <- all %>%
left_join(., total[,c("timept", "baserate")], by = "timept") %>%
mutate(percentage = 100*(hits/baserate))
setwd(save_path)
saveRDS(all, file = "all_terms_hits.RDS" )
## Script to plot trends in use of word "Mental health" in the last 20 years
## AM Chekroud & H Loho
# Housekeeping
libs <- c("tidyverse", "RColorBrewer","stringr", "foreach", "forcats", "dplyr", "data.table")
invisible(lapply(libs, require, character.only = TRUE))
# # Figure out the user and choose the data path accordingly
user = system("whoami",intern=TRUE)
if(user == "adamchekroud"){
dat_path <- "/Users/adamchekroud/Documents/Phd/Projects/NYT/NYT_Mental_Health_Trends"
} else {
load_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Processed_Data"
save_path <- "/Users/hieronimusloho/Box Sync/Research Stuff/NewYorkTimes/Figures"
}
setwd(load_path)
wd <- getwd()
all <- readRDS(file = "all_terms_hits.RDS")
#Make a plotting function
### Plot number of articles per quarter, Q1-2006 to Q3-2016
plotall <- function(query) {
all %>%
dplyr::filter(term == query) %>%
ggplot(aes(x = timept, y = percentage)) +
geom_line() +
stat_smooth(method = "loess", se = FALSE, lty = 2, alpha = 0.4) +
stat_smooth(method = "lm", se = FALSE, lty = 2, alpha = 0.1) +
theme_bw() +
scale_x_continuous(breaks = seq(1900,2010,10)) +
ylab("% of total articles per quarter") +
xlab("Year") +
ggtitle(paste("Use of word '", query, "' in popular media", sep = ''),
subtitle = "NYT, Reuters, and AP sources, 1997-2016")
}
#Graph with lapply and save all the graphs into the same pdf
setwd(save_path)
pdf("all_terms_and_combos_1900-2016.pdf", width=11, height=7.07)
search_terms <- unique(all$term)
all.plots <- lapply(search_terms, function(x) plotall(x))
all.plots
dev.off()
